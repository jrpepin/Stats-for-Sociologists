---
title: "Milestone 01"
author: "FirstName LastName"
format: pdf # or replace 'pdf' with 'typst'
execute:
  error: true # change this to false when your assignment is complete.
---

# Environment

Update the YAML with your first and last name.

Load the packages from the code-along. (Install first if not already
done so.)

```{r}
#| label: load
#| message: false

library(here)
library(tidyverse) 
library(haven) 
library(gssr)
library(gssrdoc)
library(summarytools)
```

Load all years of the GSS data.

Then, use the `gss_get_yr()` function to load the data only for the 2024
survey respondents. (*Hint*: Use the code from code-along-01.qmd)

```{r}
#| label: gss-datasets

# Load the data (will appear in your Global Environment pane)
data(gss_all)
 
# load the gss 2024 data (ADD YOUR CODE BELOW)
gss24 <- gss_get_yr(2024)
```

Load the GSS codebook

```{r}
#| label: gss-codebook

# Load the codebook
data(gss_dict)
```

# Code, Output, Meaning

*Run the code and add **narrative** (outside code chunks) or
**comments** (inside the code chunks) describing what each of the the
below R chunks do.*

```{r}
#| label: here

here()
```

```{r}
#| label: list-files

list.files(path = here())

list.files(path = here("project"))
```

```{r}
#| label: time

Sys.time()
```

*Use R to complete the checkpoints below. Show your work (e.g., R code
chunks) where appropriate. Add narrative (text outside code chunks) or
comments (text inside the code chunks) throughout.*

Reference specific statistics (where appropriate) from your output to
justify your answers. Explain what the values tell you about the data;
interpret their meaning in relation to the question.

*Use the `gss_all` dataset for checkpoints 01 - 07.*

*Use the `gss24` dataset for checkpoints 08 - 10.*

## Checkpoint 01

***Report the survey question that corresponds to the `fefam` variable.
How did you find out?***

## Checkpoint 02

***Is `fefam` a dichotomous, nominal, ordinal, or interval-ratio
variable? Justify your answer.***

## Checkpoint 03

Use `gss_which_years()` below to show the survey years with the variable
`fefam` in the `gss_all` dataset.

```{r}
#| label: which-years

gss_which_years(gss_all, fefam)

```

***Which years of the survey did the `fefam` variable appear in the
GSS?***

## Checkpoint 04

Use `print_labels()` to see a list of the values and labels for the
`fefam` variable.

```{r}
#| label: value_labels

print_labels(gss_all$fefam)
```

***If a respondent has a value of `4` for the `fefam` variable, what
does that mean?***

## Checkpoint 05

Convert the `fefam` variable to a factor variable.

1.  Use `zap_missing()` to get rid of all the 'missing' (NA) levels.
2.  Use `as_factor()` to replace the values with labels.
3.  Use `drop_levels()` to get rid of the empty levels (if any).

```{r}
#| label: labels_fefam

gss_all$fefam <- zap_missing(gss_all$fefam) 
gss_all$fefam <- as_factor(gss_all$fefam) 
gss_all$fefam <- droplevels(gss_all$fefam) 
```

## Checkpoint 06

Use `table()` to show the frequencies of the `fefam` variable.

```{r}
#| label: table_fefam
table(gss_all$fefam)
```

## Checkpoint 07

Use `freq()` to create a (pretty) relative frequency table to show for
the `fefam` variable using the 2024 data. Set the following function
options:

-   `report.nas = FALSE`
-   `headings = FALSE`

```{r}
#| label: freq-fefam

freq(gss_all$fefam, report.nas = FALSE, headings = FALSE)
```

***How many respondents "strongly agree" with the `fefam` statement in
2024? What % of respondents either "strongly agree" or "agree"?***

## Checkpoint 08

Use `freq()` to create a (pretty) relative frequency table for the
`happy` variable using the 2024 data.

```{r}
#| label: freq-happy

freq(gss24$happy, report.nas = FALSE, headings = FALSE)
```

***Were most respondents "not too happy," "pretty happy," or "very
happy" in 2024?***

## Checkpoint 09

Create a (pretty) cross-tab of the `happy` and `sex` variables using
only the 2024 survey data. Make sure your values are labelled for easy
interpretation.

Use `zap_missing()`, `as_factor()`, `droplevels()`, and `ctable()` as
appropriate. Set the following function options for `ctable()`:

-   `prop = "c"`
-   `format = "p"`
-   `useNA = "no"`

```{r}
#| label: crosstab

# Fix the sex variable
gss24$sex <- zap_missing(gss24$sex) 
gss24$sex <- as_factor(gss24$sex) 
gss24$sex <- droplevels(gss24$sex) 

# Fix the happy variable
gss24$happy <- zap_missing(gss24$happy) 
gss24$happy <- as_factor(gss24$happy) 
gss24$happy <- droplevels(gss24$happy) 

# Create a cross-tab
ctable(gss24$happy, gss24$sex, 
  prop = "c", 
  format = "p", 
  useNA = "no"
) 
```

***Were women or men more likely to report they were `very happy`?***

## Checkpoint 10

***According to the table above, were a greater percentage of women or
men `not too happy` in 2024?***

# Meet the IPUMS Data

To keep your Research Brief progress on track, you'll complete short
exercises that correspond with the new course material using your own
dataset as part of your milestones.

Consider a research topic you are interested in and explore the
documentation for some of the available [IPUMS (microdata)
datasets](https://www.ipums.org/overview) that could be relevant for the
subject. Start broadly, such as looking at the [Topical Availability
Summary](https://www.ipums.org/topics). Then, look at a couple of
individual datasets more in depth. Explore the sidebar of available
documentation for 2-3 datasets: About, Data, Documentation (including
User Guides and Questionnaires, FAQs).

-   Write 1-2 sentences about your research interests.

-   Then, write 2-3 sentences about which IPUMS dataset you are thinking
    of using, explaining the sample population and time frame of the
    dataset, and why it is a good fit for your research interests.

-   Describe 2-3 key variables available in the dataset that are a good
    fit for your research topic. Report the exact survey questions and
    response options for these variables.

-   Finally, create an IPUMS account for the dataset of interest. See
    this [help video](https://www.youtube.com/watch?v=Oo7RYMV7q4Y) for
    details.

**NOTE:** For your Research Brief, you must choose an [IPUMS (microdata)
dataset](https://www.ipums.org/overview) to use.
