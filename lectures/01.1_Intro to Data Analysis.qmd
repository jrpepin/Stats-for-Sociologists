---
title: "Intro to Data Analysis"
format: 
  revealjs:
    controls: true
    theme: [default, custom.scss]
    slide-number: c
revealjs-plugins:
  - quiz
embed-resources: true
filters:
    - openlinksinnewpage
editor: 
  markdown: 
    wrap: 72
---

```{r warning = FALSE, error = FALSE, message = FALSE}
# Loading libraries

# Install packages not yet installed & load them
pacman::p_load(
  tidyverse,
  gssr,        # load U.S. gss data
  haven,       # work with labeled data
  labelled,    # use labels as values
  kableExtra,  # pretty tables
  flextable,   # formatted pretty tables
  conflicted   # declare primary packages
)


conflict_prefer("is.labelled", "haven")
conflict_prefer("filter", "dplyr")
conflict_scout() # Identify the conflicts

## Load all gss
data(gss_all)

# Define color palette
c_palette <- c("#3498DB",
               "#E74C3C",
               "#18BC9C",
               "#F39C12")

```

# Agenda {data-menu-title="Agenda" background-image="images/calendar.png" background-size="100px" background-repeat="repeat"}

:::::: columns
::: {.column width="50%"}
-   Introduction to Data Analysis
-   Frequency Distributions
-   Lab 01
:::

:::: {.column width="50%"}
::: {.my-box .smaller}
ðŸ“–
[**Readings**]{style="color: #18BC9C; font-size: 150%; font-family: 'Shadows Into Light'"}

1.  What's the point?
2.  Being a Statistician Means Never Having to Say You're Certain
:::
::::
::::::

# Introduction to Data Analysis {.theme-section .smaller}

:::::: columns
::: {.column width="33%"}
-   UNIT OF ANALYSIS\
-   POPULATION\
-   SAMPLE\
-   N & n
:::

::: {.column width="40%"}
-   DESCRIPTIVE STATISTICS\
-   INFERENTIAL STATISTICS\
-   TIDY DATA\
-   VARIABLES\
:::

::: {.column width="24%"}
-   NOMINAL\
-   ORDINAL\
-   INTERVAL-RATIO\
-   DICHOTOMOUS\
:::
::::::

## Unit of Analysis

::: {style="color: #e74c3c; font-size: 150%; font-family: 'Shadows Into Light'"}
Who or what is being studied?
:::

<br>

::: callout-tip
# POPULATION

All units of analysis (people, institutions, groups, etc.) in which the
researcher is interested.
:::

<br>

::: callout-tip
# SAMPLE

A subset of people (or institutions, groups, etc.) selected from a
population.
:::

## Notation {#slide5-id background-image="images/01/pop-sample.png" background-size="contain"}

[**N**]{style="font-size: 200%; color: #E74C3C;"} refers to
**population** size

<br>

[***n***]{style="font-size: 200%; color: #E74C3C;"} refers to **sample**
size

##  {#slide4-id data-menu-title="Descriptive vs Inferential"}

::: callout-tip
## DESCRIPTIVE STATISTICS

Procedures that help us organize and describe data collected from a
sample or population.
:::

<br>

::: callout-tip
## INFERENTIAL STATISTICS

Making underlying predictions or inferences about a population using
observations and analyses from a sample.
:::

:::: {.content-visible when-profile="speaker"}
::: notes
DESCRIPTIVE STATISTICS - Procedures that help us organize and describe
data collected from a sample or population. INFERENTIAL STATISTICS -
Making underlying predictions or inferences about a population using
observations and analyses from a sample.
:::
::::

## Tidy Data

![](images/01/tidy-data.png)

##  {#slide7-id data-menu-title="Variables"}

::: callout-tip
## VARIABLES

Any factor, trait, or condition that can exist in differing amounts or
types.
:::

![](images/01/variable.png)

## Measurement Levels {#slide8-id}

:::: r-stack
::: {style="font-size: 80%"}
[**Nominal**]{style="color: #18BC9C;"}\
A variable made up of categories that cannot be ordered

[**Ordinal**]{style="color: #18BC9C;"}\
A variable made up of ranked categories, with no systematic or
measurable numeric difference between the categories.

[**Interval-ratio** (aka continuous)]{style="color: #18BC9C;"}\
A variable with categories that are ordered and expressed in the same
units.

[**Dichotomous** (aka binary)]{style="color: #18BC9C;"}\
A variable with only two categories.
:::

![](images/01/levels.png){.fragment fragment-index="1"}
::::

##  {.quiz-question .smaller background-image="images/clipboard-question.png" background-size="100px" background-repeat="repeat"}

::: {style="color: #F39C12"}
{{< fa clipboard-question >}} **Which of the following is an example of
descriptive statistics?**
:::

-   [The average age of UofT students is 21 years.]{.correct
    data-explanation="ðŸ’¯ Correct!"}
-   [Students who study more than 10 hours a week are more likely to
    achieve higher
    grades]{data-explanation="ðŸ˜² This statement reflects a correlation between variables."}
-   [About 65% of U of T undergrads feels socially connected, based on a
    sample of 300
    students.]{data-explanation="The phrase 'based on' in the statement means inferences are being made."}
-   [A hypothesis test shows a significant relationship between income
    and education
    level]{data-explanation="Hypothesis testing is by definition an inference."}

##  {.quiz-question .smaller background-image="images/clipboard-question.png" background-size="100px" background-repeat="repeat"}

::: {style="color: #F39C12"}
{{< fa clipboard-question >}} **Which of the following is an example of
a nominal level of measurement?**
:::

-   [The type of religion a person identifies with (e.g., Christianity,
    Islam, Judaism)]{.correct data-explanation="ðŸ’¯ Correct!"}
-   [The number of children in a
    household]{data-explanation="This could be an ordinal or a continuous variable."}
-   [The income of a family in
    dollars]{data-explanation="This is a continuous variable."}
-   [A ranking of provinces by marriage
    rate.]{data-explanation="This would be an ordinal variable."}

##  {.quiz-question .smaller background-image="images/clipboard-question.png" background-size="100px" background-repeat="repeat"}

::: {style="color: #F39C12"}
{{< fa clipboard-question >}} **Which level of measurement is used when
ranking neighborhoods by crime rate (e.g., low, medium, high)?**
:::

-   [Ordinal]{.correct data-explanation="ðŸ’¯ Correct!"}
-   [Nominal]{data-explanation="There is an order to the categories."}
-   [Dichotomous]{data-explanation="There are more than two categories"}
-   [Continuous]{data-explanation="ðŸ˜² Grouping by rate makes this categorical."}

# Frequency Distributions {.theme-section .smaller}

:::::: columns
::: {.column width="40%"}
-   FREQUENCY DISTRIBUTION\
-   RELATIVE FREQUENCY DISTRIBUTION
:::

::: {.column width="24%"}
-   PROPORTION\
-   PERCENTAGE\
-   CUMULATIVE\
-   RATE\
:::

::: {.column width="33%"}
-   BAR GRAPH\
-   HISTOGRAM\
-   LINE GRAPH\
-   STATISTICAL MAP
:::
::::::

##  {#slide14-id data-menu-title="Distributions"}

::: callout-tip
## DISTRIBUTION

Shows all the possible values (or intervals) of the data and how often
they occur.
:::

<br>

::: callout-tip
## FREQUENCY DISTRIBUTION

A table reporting the number of observations falling into each category
of the variable.
:::

![](images/01/distributions.png)


##  {#slide15-id data-menu-title="Distribution table"}

**Table 1. Attitudes about sex before marriage**

```{r}
gss_all$premarsx <-as_factor(zap_missing(gss_all$premarsx))
gss_all$sex <-as_factor(zap_missing(gss_all$sex))

gss_all %>%
  select(id, year, sex, premarsx) %>%
  filter(year == 2024, !is.na(premarsx)) %>%
  count(premarsx, sort = TRUE
        ) -> freq_premarsx

freq_premarsx %>%
  summarise(across(where(is.numeric), sum)) %>%
  mutate(premarsx = "Total"
         ) -> total_row

# combine
table_premarsx <- rbind(freq_premarsx, total_row)
```

::: {.panel-tabset}

### Tab A
```{r}
# Render the table
table_premarsx %>%
  flextable() %>%
  set_table_properties(width = 1, layout = "autofit") %>%
  theme_zebra() %>%
  bg(bg = "#18BC9C", part = "header") %>%
  color(color = "white", part = "header") %>%
  fontsize(size = 22, part = "all") 
```


### Tab B

```{r}
table_premarsx %>%
  flextable() %>%
  set_table_properties(width = 1, layout = "autofit") %>%
  theme_zebra() %>%
  bg(bg = "#18BC9C", part = "header") %>%
  color(color = "white", part = "header") %>%
  fontsize(size = 22, part = "all") %>%
  color(color = "#E74C3C", i = 5, j = "n")
```

[The number of respondents who answered this survey question.]{style="color: #E74C3C; font-family: 'Shadows Into Light'"}  

### Tab C

```{r}
table_premarsx %>%
  flextable() %>%
  set_table_properties(width = 1, layout = "autofit") %>%
  theme_zebra() %>%
  bg(bg = "#18BC9C", part = "header") %>%
  color(color = "white", part = "header") %>%
  fontsize(size = 22, part = "all") %>%
  color(color = "#E74C3C", i = 3, j = "n")
```

[The number of respondents who said pre-marital sex was "**wrong only sometimes**."]{style="color: #E74C3C; font-family: 'Shadows Into Light'"}  


:::

::: aside
[*Source: U.S. General Social Survey 2024*]{style="color: $gray-500"}
:::

##  {#slide16-id data-menu-title="Distribution table"}

next flextable goes here.

# Lab 01 {.theme-section .smaller}

-   CODEBOOK

##  {data-menu-title="Why use codebooks"}

will add later
